import dataUtils from './dataUtils';

// This component can query the backend API when needed

const fruits = [
  { id: 1, name: "Apples", types: [ "Fuji", "Gala", "Honeycrisp", "Red" ] },
  { id: 2, name: "Oranges", types: [ "Navel", "Mandarin", "Cuties" ] },
  { id: 3, name: "Grapes", types: [ "Green", "Red", "Black" ] },
];

const fruitTypesDeliciousness = {
  "1": {
    "Fuji": [
      {x: 1522521000000, y: 2},
      {x: 1530383400000, y: 5},
      {x: 1538332200000, y: 4},
      {x: 1546281000000, y: 3},
      {x: 1554057000000, y: 1},
      {x: 1561919400000, y: 4},
    ],
    "Gala": [
      {x: 1548959400000, y: 5},
      {x: 1549359400000, y: 4},
      {x: 1551378600000, y: 4},
      {x: 1554057000000, y: 5},
      {x: 1556649000000, y: 4},
      {x: 1559327400000, y: 5},
      {x: 1561919400000, y: 5},
    ],
    "Honeycrisp": [
      {x: 1548959400000, y: 2},
      {x: 1549089400000, y: 3},
      {x: 1549218600000, y: 1},
      {x: 1549477800000, y: 3},
      {x: 1549587800000, y: 5},
      {x: 1549737000000, y: 1},
      {x: 1549996200000, y: 2},
      {x: 1550255400000, y: 1},
    ],
    "Red": [
      {x: 1548959400000, y: 2},
      {x: 1549045800000, y: 1},
      {x: 1549132200000, y: 3},
      {x: 1549305000000, y: 2},
      {x: 1549391400000, y: 1},
    ],
  },
  "2": {
    "Navel": [
      {x: 1554057000000, y: 2},
      {x: 1554143400000, y: 3},
    ],
    "Mandarin": [
      {x: 1567276200000, y: 5 },
      {x: 1567362600000, y: 4 },
      {x: 1567449000000, y: 2 },
      {x: 1567535400000, y: 5 },
      {x: 1567621800000, y: 3 },
      {x: 1567708200000, y: 1 },
      {x: 1567794600000, y: 4 },
      {x: 1567881000000, y: 1 },
      {x: 1567967400000, y: 4 },
      {x: 1568053800000, y: 4 },
    ],
    "Cuties": [
      {x: 1546281000000, y: 2 },
      {x: 1546453800000, y: 5 },
      {x: 1546626600000, y: 1 },
      {x: 1546799400000, y: 2 },
      {x: 1546972200000, y: 3 },
      {x: 1547145000000, y: 4 },
      {x: 1547317800000, y: 4 },
      {x: 1547490600000, y: 5 },
      {x: 1547663400000, y: 4 },
      {x: 1547836200000, y: 4 },
      {x: 1548959400000, y: 4 },
      {x: 1549132200000, y: 5 },
      {x: 1549305000000, y: 4 },
      {x: 1549477800000, y: 3 },
      {x: 1549650600000, y: 3 },
      {x: 1549823400000, y: 1 },
      {x: 1549996200000, y: 5 },
      {x: 1550169000000, y: 5 },
      {x: 1550341800000, y: 2 },
      {x: 1550514600000, y: 5 },
      {x: 1551378600000, y: 3 },
      {x: 1551551400000, y: 1 },
      {x: 1551724200000, y: 3 },
      {x: 1551897000000, y: 4 },
      {x: 1552069800000, y: 3 },
      {x: 1552242600000, y: 3 },
      {x: 1552415400000, y: 2 },
      {x: 1552588200000, y: 2 },
      {x: 1552761000000, y: 4 },
      {x: 1552933800000, y: 3 },
      {x: 1554057000000, y: 1 },
      {x: 1554229800000, y: 2 },
      {x: 1554402600000, y: 2 },
      {x: 1554575400000, y: 3 },
      {x: 1554748200000, y: 5 },
      {x: 1554921000000, y: 1 },
      {x: 1555093800000, y: 2 },
      {x: 1555266600000, y: 2 },
      {x: 1555439400000, y: 3 },
      {x: 1555612200000, y: 3 },
      {x: 1556649000000, y: 3 },
      {x: 1556821800000, y: 5 },
      {x: 1556994600000, y: 2 },
      {x: 1557167400000, y: 1 },
      {x: 1557340200000, y: 1 },
      {x: 1557513000000, y: 4 },
      {x: 1557685800000, y: 5 },
      {x: 1557858600000, y: 2 },
      {x: 1558031400000, y: 1 },
      {x: 1558204200000, y: 2 },
      {x: 1559327400000, y: 3 },
      {x: 1559500200000, y: 5 },
      {x: 1559673000000, y: 5 },
      {x: 1559845800000, y: 4 },
      {x: 1560018600000, y: 4 },
      {x: 1560191400000, y: 3 },
      {x: 1560364200000, y: 3 },
      {x: 1560537000000, y: 2 },
      {x: 1560709800000, y: 1 },
      {x: 1560882600000, y: 2 },
    ],
  },
  "3": {
    "Green": [
      {x: 1351708200000, y: 2 },
      {x: 1383244200000, y: 3 },
      {x: 1393612200000, y: 5 },
      {x: 1425148200000, y: 4 },
      {x: 1454265000000, y: 4 },
      {x: 1496255400000, y: 3 },
      {x: 1530383400000, y: 4 },
      {x: 1551378600000, y: 3 },
    ],
    "Red": [
      {x: 1565811000000, y: 3 },
      {x: 1565814600000, y: 4 },
      {x: 1565818200000, y: 5 },
      {x: 1565821800000, y: 4 },
      {x: 1565825400000, y: 5 },
      {x: 1565829000000, y: 2 },
      {x: 1565832600000, y: 2 },
      {x: 1565836200000, y: 5 },
      {x: 1565839800000, y: 2 },
      {x: 1565843400000, y: 5 },
      {x: 1565847000000, y: 3 },
      {x: 1565850600000, y: 4 },
    ],
    "Black": [],
  }
};

// Update the following object to reflect the x and y keys by API
const apiDataPointKeys = { xKey: "x", yKey: "y" };

export default {
  fetchAllFruits() {
    return fruits;
  },

  fetchFruitTypeDeliciousness(fruitId) {
    try {
      if (!fruitTypesDeliciousness.hasOwnProperty(fruitId)) {
        throw new Error(`Cannot find data points for fruitId ${fruitId}`);
      }

      return dataUtils.importRawDeliciousness(fruitTypesDeliciousness[fruitId], apiDataPointKeys);
    } catch(error) {
      console.error(error);
    }
  }
};
